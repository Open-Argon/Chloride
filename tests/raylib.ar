let raylib = load_native_code("basic_raylib_binding/raylib.so")

term.log(raylib)

let width = 640, height = 640

let maxX = width -235, maxY = height-20

let frame = 0

raylib.InitWindow(width, height, "Hello Raylib")

raylib.SetTargetFPS(60)

let speedX = 1
let speedY = speedX

let abs(x)=do
  if (x<0) return -x
  return x

while (!raylib.WindowShouldClose()) do
  term.log("frame:",frame)
  raylib.BeginDrawing()
  
  raylib.ClearBackground(raylib.BLACK)

  let x = maxX - abs(((frame * speedX) % (2 * maxX)) - maxX)
  let y = maxY - abs(((frame * speedY) % (2 * maxY)) - maxY)
  
  raylib.DrawText("Hello world from Argon", x, y, 20, raylib.WHITE)

  raylib.EndDrawing()

  frame=frame+1

raylib.CloseWindow()

term.log("bye :)")