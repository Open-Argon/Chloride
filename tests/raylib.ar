let raylib = load_native_code("basic_raylib_binding/raylib.so")

term.log(raylib)

let width = 800, height = 450

raylib.InitWindow(width, height, "Hello Raylib")

raylib.SetTargetFPS(60)

let x = 0

let xd = 1

let y = 0

let yd = 1

let frame = 0

while (!raylib.WindowShouldClose()) do
  term.log("frame:",frame, {x,y})
  raylib.BeginDrawing()
  
  raylib.ClearBackground(raylib.BLACK)
  
  raylib.DrawText("Hello world from Argon", x, y, 20, raylib.WHITE)

  raylib.EndDrawing()

  x=x+xd

  y=y+yd

  if (!(x - width+235) || !(x)) xd = 0-xd

  if (!(y - height+20) || !(y)) yd = 0-yd

  frame=frame+1

raylib.CloseWindow()

term.log("bye :)")